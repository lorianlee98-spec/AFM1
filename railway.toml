[build]
builder = "DOCKERFILE"
dockerfilePath = "./Dockerfile"

[deploy]
startCommand = "cd backend && uvicorn app.main:app --host 0.0.0.0 --port $PORT"
healthcheckPath = "/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
numReplicas = 1

# Railway 环境变量配置
# 需要在 Railway Dashboard 中手动设置以下环境变量：
# - DATABASE_URL (PostgreSQL 连接字符串)
# - REDIS_URL (可选，Redis 连接字符串)
# - SECRET_KEY (JWT 密钥，建议 32 位以上随机字符串)
# - ALLOWED_ORIGINS (CORS 允许的域名，如 https://your-frontend.vercel.app)
